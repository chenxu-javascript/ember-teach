# 测试简介
> 测试是Ember框架开发环节中很重要的一环

现在假设你正在利用Ember框架开发一个博客系统,这个系统包含`user`和`post`模型,有`登录`及`创建博客`的操作.最后假设你希望在你的程序里实现`自动化测试`

## 测试类型
你一共需要下面这3种类型的测试:
1. 验收测试`Acceptance`
2. 单元测试`Unit`
3. 集成测试`Integration`

### 验收测试 Acceptance Tests
`验收测试`是用来确保程序流程正确,且各类交互特性符合用户预期的测试.该测试通过和用户同样的方式进行(如填写一些表单,点击一些按钮).

`验收测试`同样用来确保程序拥有基础的功能性/核心特性等,确保其实现了项目目标.

在本例中,该测试可能有:
1. 用户可以通过`登录表单`登录
2. 用户可以`创建博客`
3. 当成功`保存`一篇博客文章后,程序会返回`博客列表`给用户
4. `游客`没有访问`管理面板`的`权限`

### 单元测试 Unit Tests
`单元测试`是针对程序中的最小可测试单元进行的测试,比如一个类或者一个方法.该测试可以编写与程序逻辑相对的语句来测试相关`单元`

在本例中,该测试可能有:
1. 用户`姓名`是由对应的`姓`和`名`组合而成的.
2. 序列化程序可以正确的将博客的请求`payload`序列化为`博客模型`
3. `博客时间`被正确的格式化

### 集成测试 Integration Tests
`集成测试`是处于`单元测试`和`验收测试`之间的测试.

`集成测试`用来验证几个部分之间的行为,比如若干个UI控件的行为.也可以用于确认`数据`和`动作`在系统不同的部件中被正确的传递和执行,同时在给定假设条件下,可以提供系统各部件配合运行的情况.

我们建议每个`组件`都要进行`集成测试`,因为`组件`相对于系统是具有一系列功能的独立的部件.

在本例中,该测试可能有:
1. 用户`姓名`和`日期`正确的显示在每篇`博文`上
2. `禁止`用户在标题栏内输入超过50个字符
3. 当`提交`一个`没有标题`的博客时,显示`红色提醒`并给出`需要标题`的错误信息
4. `博客列表`滚动到`最顶端`显示`最新博客`

## 测试框架
`QUnit`是本手册的默认测试框架,但是emberjs也支持其他第三方的测试框架.

### 运行测试
在命令行输入`ember test`来运行测试. 也可以通过`ember test -server`命令,在每次文件改动后,重新运行测试.

在本地开发服务器开始运行时(通过`ember server`命令),`/tests`目录下的测试文件也会被运行.但是有一个很重要的差异:
* 通过`ember server`运行的测试,是在`开发环境`下的测试,调用的是`开发环境`下的参数
* 通过`ember test --server`运行的测试,是在`测试环境`下的测试,调用的是`测试环境`下的参数

**不同**的环境参数,可能会引起**不同**的`测试结果`
因此,我们建议使用`ember test --server`来运行测试

### 指定测试
使用`--filter`选项来指定运行测试.比如:
* 快速运行当前工作的测试`ember test --filter="dashboard"`
* 运行指定类型的测试`ember test --filter="integration"`
* 可以使用`!`来排除测试`ember test --filter="!acceptance"`
